%% -*- erlang -*-
tools_expect() ->
[
{ %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
fun () ->
	[snap_to_grid(Val, 0.0, 1.0)
	 || Val <- [-5.5e-1, -4.5e-1, 4.5e-1, 5.5e-1]]
end
, %% =>
[-1.0,0.0,0.0,1.0]
}
,
{ %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
fun () -> {mask_bits(1), mask_bits(3), mask_bits(7)} end
, %% =>
{1,2,3}
}
,
{ %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
fun () -> list_at([0, 1, 2, 3, 4], 2) end
, %% =>
2
}
,
{ %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
fun () -> csv_parse("A,B,C\n1,2,3\n") end
, %% =>
[["A","B","C"],["1","2","3"]]
}
,
{ %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
fun () -> enumerate([a, b, c]) end
, %% =>
[{0,a},{1,b},{2,c}]
}
,
{ %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
fun () -> pmap(fun (Tag) -> {f, Tag} end, [a, b, c]) end
, %% =>
#{a => {f,a},b => {f,b},c => {f,c}}
}
,
{ %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
fun () ->
	Offset = 5,
	Endx = 47,
	Max = 10,
	nchunks(Offset, Endx, Max)
end
, %% =>
[{5,10},{15,10},{25,10},{35,10},{45,2}]
}
,
{ %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
fun () ->
	ChunkSize = 10,
	List = lists:seq(0, 35),
	chunks(ChunkSize, List)
end
, %% =>
[[0,1,2,3,4,5,6,7,8,9],
 [10,11,12,13,14,15,16,17,18,19],
 [20,21,22,23,24,25,26,27,28,29],
 [30,31,32,33,34,35]]
}
,
{ %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
fun () ->
	M0 = #{},
	F = fun (X) -> X + 1 end,
	M1 = maps_update_path([a, b, c], F, M0, 1),
	M2 = maps_update_path([a, b, c], F, M1, not_used),
	{M0, M1, M2}
end
, %% =>
{#{},#{a => #{b => #{c => 2}}},#{a => #{b => #{c => 3}}}}
}
,
{ %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
fun () -> transpose([[1, 2, 3], [4, 5, 6], [7, 8, 9]])
end
, %% =>
[[1,4,7],[2,5,8],[3,6,9]]
}
,
{ %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
fun () ->
	tools:format_backtrace([{obj, wait_reply, 5,
				 [{file,
				   "/home/tom/priv/git-private/humanetics/gw_src/"
				   "gateway/gw/_build/default/lib/gw/src/obj.erl"},
				  {line, 70}]},
				{spa_exec, edit_event, 2,
				 [{file, "gateway/gw/src/spa_exec.erl"},
				  {line, 320}]}])
end
, %% expected =>
ok
, %% found =>
["/home/tom/priv/git-private/humanetics/gw_src/gateway/gw/_build/default/lib/gw/src/obj.erl:70: obj:wait_reply/5\n",
 "gateway/gw/src/spa_exec.erl:320: spa_exec:edit_event/2\n"]
}
].
